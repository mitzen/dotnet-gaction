on:
  workflow_call:
    secrets:
      registry_username:
        required: true
      
      registry_secret:
        required: true

    inputs:
      imageName:
        required: true
        type: string

      rg:
        required: true
        type: string
      
      clusterName:
        required: true
        type: string

      environment:
        required: true
        type: string
  
jobs:

 kubernetes-deploy:
   runs-on: ubuntu-latest
   environment: ${{ inputs.environment }}

   steps:
      -
        name: Checkout
        uses: actions/checkout@v3

      - 
        name: run script 
        run: | 
           echo  deploying to kubernetes cluster
       
      # - 
      #   name: Login to Docker Hub
      #   uses: docker/login-action@v2
      #   with:
      #     username: ${{ vars.DOCKERHUB_USERNAME }}
      #     password: ${{ vars.DOCKERHUB_TOKEN }}
      
      # -
      #   name: Set up Docker Buildx
      #   uses: docker/setup-buildx-action@v2